var cook={set:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()+";path=/;path=/"},get:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},del:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.get(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString()+";path=/;path=/")},delAll:function(){for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var n=e[t].split("=");this.del(n[0])}}},fn={showshare:function(e){var t;t=ini.shshow.split(",");var n={};for(i=0;i<t.length;i++)n[t[i]]=e;fn.sDom(n)},copystr:function(e){var t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},pdlog:function(e){var t="/login";return!!cook.get("aname")||(null!=e?this.tips(e,2e3,t):location.href=t,!1)},render:function(e,t){return e.replace(/\{\{(.*?)\}\}/g,((e,n)=>t[n.trim()]))},gourl:function(e,t){0==t?location.href=e:window.open(e)},u2time:function(e,t){function n(e){return(1==String(e).length?"0":"")+e}var a=parseInt((new Date).getTime()/1e3),o=a-e,i=new Date(1e3*a),s=new Date(1e3*e),r=s.getFullYear(),c=s.getMonth()+1,l=s.getDate();s.getHours(),s.getMinutes(),s.getSeconds();if("ymd"==t){var f=new Date(1e3*(a-86400));return(r+"-"+n(c)+"-"+n(l)).replace(/-/g,"/")}return o<60?"Now":o<3600?Math.floor(o/60)+" min ago":i.getFullYear()==r&&i.getMonth()+1==c&&i.getDate()==l?"Today":(f=new Date(1e3*(a-86400))).getFullYear()==r&&f.getMonth()+1==c&&f.getDate()==l?"Yesterday":i.getFullYear()==r?n(c)+"-"+n(l):(n(c)+"-"+n(l)+"-"+r).replace(/-/g,"/")},tag:function(e,t){if("#"==e)t=t.replace(/#(\w+)/g,'<a class="mag_06 fc-06" href="/tag/$1">#$1</a>');else if("@"==e)t=t.replace(/@(\w+)/g,'<a class="mag_06 fc-06" href="/$1">@$1</a>');else if("u"==e)t=t.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,'<a class="fc-06"  href="$1$2">$2</a>');else if("link"==e)t=t.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,'<a class="fc-06"  href="$1$2" target="_blank">Link</a>');else if("umg"==e){var n=/.+\.(jpg|jpeg|gif|bmp|png)$/;t=t.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,(function(e,t){return n.test(e)?'<img class="b max-100"  src="'+e+'">':'<a class="fc-06" target="_blank" href="'+e+'">'+e+"</a>"}))}return t},tagAll:function(e,t){e=e.split(",");for(var n=0;n<e.length;n++)t=this.tag(e[n],t);return t},re_all:function(e,t,n){var a=new RegExp(t,"g");return e.replace(a,n)},sDom:function(e){var t,n={0:"none",1:"block","01":"inline-block","00":"hidden",11:"visible"};for(var a in e)t=n[e[a]],"00"==e[a]||"11"==e[a]?this.$(a).style.visibility=t:this.$(a).style.display=t},hidesDom:function(e){var t,n,a,o={1:"block","01":"inline-block"};for(var i in e)n=this.$(i),t=o[e[i]],a=n.style.display,n.style.display=""==a||"none"==a?t:"none"},flag:{me:"https://www.playwant.com/",post:!1,start:0,start_num:5,web:"PlayWant",slink:{t:"",c:"",id:"",spd:""},stop:!1,scrPd:"",pub:""},$:function(e){return document.getElementById(e)},check_gtip:function(e){var t=cook.get("gtip");if(t)return t.split("-"),t[e]},rep:function(e,t){return e.replace(/\ +/g,t)},checkLimit:function(){cook.get("adu")||fn.tips("log in first");var e=cook.get("ttime"),t=Date.parse(new Date)/1e3;if(e)return t-e<2?(fn.tips("Refreshing too fast"),!1):(cook.set("ttime",t),!0);cook.set("ttime",t)},mailURL:function(e,t,n){var a=[];void 0!==t&&a.push("subject="+encodeURIComponent(t)),void 0!==n&&a.push("body="+encodeURIComponent(n));var o="mailto:"+encodeURIComponent(e);return a.length>0&&(o+="?"+a.join("&")),o},tips:function(e,t,n){t||(t=1500);var a=this.$("loadtip");a.innerHTML=e,a.classList.add("fadeIn"),setTimeout((function(){a.classList.remove("fadeIn"),a.classList.add("fadeOut"),a.addEventListener("animationend",(function(){a.classList.add("hide")})),n&&(window.location.href=n)}),t)},bomtips:function(e){var t=this.$("bomrush");t&&(t.innerHTML=e)},getUrl:function(e){var t=document.location.search,n=new RegExp("[?&]"+e+"=([^&]+)","g").exec(t),a=null;if(null!=n)try{a=decodeURIComponent(decodeURIComponent(n[1]))}catch(e){try{a=decodeURIComponent(n[1])}catch(e){a=n[1]}}return a},share:function(e){var t=this.flag.slink.t,n=this.flag.slink.c,a="";switch(e){case"twitter":a="https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}".replace("{{URL}}",n).replace("{{TITLE}}",t),window.open(a,"_blank","width=550,height=370");break;case"tomail":var o='<a href="'+n+'">'+n+"</a>",i=fn.mailURL("",t,o);window.location.href=i;break;case"copylink":fn.copystr(n),fn.tips("Copied","2000");break;case"sms":var s=navigator.userAgent,r=s.indexOf("Android")>-1||s.indexOf("Adr")>-1;if(!!s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))window.location.href="sms://?&body="+t+" "+n;else{if(!r)return fn.tips("Only Mobile",1500),!1;window.location.href="sms://?&body="+t+" "+n}}}},ajax={creatHttp:function(){var e;return window.ActiveXObject?e=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(e=new XMLHttpRequest),e},jmobj:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},ok:function(e){if("true"==fn.flag.post)return!1;if(1==fn.flag.stop)return!1;if(!(t=e.type))var t="POST";var n=e.url;e.cache;(n=e.url)||(n="/go.php");var a=e.success,o=this.creatHttp();"GET"==t?o.open("GET",n,!0):o.open("POST",n,!0),o.setRequestHeader("If-Modified-Since",0),o.setRequestHeader("Cache-Control","no-cache"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"POST"==t?o.send(this.jmobj(e.data)):o.send(null),fn.flag.post="true",o.onreadystatechange=function(){4==o.readyState&&(200==o.status?(fn.flag.post="false",a(o.responseText)):404==o.status&&(a("error:404"),fn.flag.post="false"))}}},ajaxok=function(e){var t,n="",a=Date.parse(new Date)/1e3,o=fn.flag.start,i=e[0];e[1];switch(i){case"group":n=i+"\\go";break;case"uname":var s=fn.getUrl("u");t={pd:i,topic:s,start:o,sid:sid}}fn.flag.scrPd=e;var r=cook.get("ttime");if(r){if(a-r<1)return fn.tips("Refreshing too fast"),!1}else cook.set("ttime",a);fn.flag.stop=!1,ajax.ok({data:{fn:n,data:JSON.stringify(t)},success:function(e){var t=fn.$("ins");if(""==e)return fn.bomtips("No More !"),fn.flag.stop=!0,!1;cook.set("ttime",a),e=e.replace(/(^\s*)/g,""),t.insertAdjacentHTML("beforebegin",e),fn.flag.start=fn.flag.start+fn.flag.start_num}})},body=fn.$("body");body&&(body.onclick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t.className,a=t.id;switch(n){case"tms":var o=fn.$("xname").innerHTML;location.href="ihome"==a?"/"+o:"chats"==a?"/chats":"/pg/"+a+"/?u="+o;break;case"favbut":location.href=fn.flag.me+"?u="+t.innerHTML;break;case"itag":location.href="/t/"+t.innerHTML.substr(1);break;case"joinbut":s=(s=t.innerHTML).substring(2),location.href=fn.flag.me+"?t="+s;break;case"namebut":var s=t.parentNode.children[0];location.href=fn.flag.me+"?u="+s.innerHTML;break;case"tc":location.href=fn.flag.me+"?t="+t.innerHTML.replace(/\s+/g,"");break;case"shmydel":if(1==fn.checkLimit()){var r=t.parentNode.parentNode.children[0].id;if(!window.confirm("Are you sure to delete the follow"))return!1;fn.flag.stop=!1,ajax.ok({data:{fn:"favor\\star_del",data:JSON.stringify({topic:r})},success:function(e){"1001"==e&&t.parentNode.parentNode.remove()}})}}switch(t.id){case"mExit":fn.sDom({rebox:"0"});break;case"ifavor":1==fn.checkLimit()&&(fn.flag.stop=!1,ajax.ok({data:{fn:"favor\\topic_down",data:""},success:function(e){if(""!=e){var t=(e=e.substr(1)).split("|"),n="";for(i=0;i<t.length;i++)n+='<span class="favbut">'+t[i]+"</span>";fn.$("findbox").style.display="none";var a=fn.$("favorbox");a.style.display="block",a.innerHTML='<span id="exitfav" class="bc">Exit</span>'+n}}}));break;case"ifollow":1==fn.checkLimit()&&(fn.flag.stop=!1,ajax.ok({data:{fn:"favor\\follow_down",data:""},success:function(e){if(""!=e){var t=(e=e.substr(1)).split("|"),n="";for(i=0;i<t.length;i++)n+='<span class="favbut">'+t[i]+"</span>";fn.$("findbox").style.display="none";var a=fn.$("favorbox");a.style.display="block",a.innerHTML='<span id="exitfav" class="bc">Exit</span>'+n}}}));break;case"exitfav":fn.$("favorbox").style.display="none",fn.$("share").style.display="none";break;case"twitter":case"sms":case"tomail":case"copylink":fn.share(t.id),fn.showshare(0);break;case"mygroups":fn.share_data("groups"),fn.flag.slink.spd="group",fn.$("share").style.display="none",fn.$("pubsbox").style.display="block";break;case"myfriends":fn.share_data("friends"),fn.flag.slink.spd="friend",fn.$("share").style.display="none",fn.$("pubsbox").style.display="block";break;case"sexit":fn.showshare(0);break;case"fexit":fn.$("findbox").style.display="none",fn.$("share").style.display="none";break;case"home":location.href="/";break;case"uhome":var c=fn.getUrl("u");c&&(location.href="/"+c);break;case"findimg":var l=fn.$("findbox");"none"==l.style.display?(l.style.display="block",fn.$("share").style.display="block"):(l.style.display="none",fn.$("share").style.display="none"),cook.get("adu")&&(fn.$("ilogin").innerHTML="Log out");break;case"ime":var f=cook.get("aname");f?location.href="/user.html?u="+f:fn.tips("You are not logged in.",2e3)}});var t=fn.getUrl("tag");if(null!=t){var u=fn.getUrl("u");if(!u){var cd=fn.$(t);cd&&(cd.style.color="#fff",cd.style.background="#FF9800")}}else var uname=fn.getUrl("u");function jieliu(e,t){t||(t=1e3);var n=0;return function(){var a=arguments,o=new Date;o-n>t&&(e.apply(this,a),n=o)}}